<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pvAccessCPP: Release Notes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pvAccessCPP
   &#160;<span id="projectnumber">7.1.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Release Notes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Release 7.1.5 (UNRELEASED) </h1>
<h1>Release 7.1.4 (June 2021) </h1>
<ul>
<li>Changes<ul>
<li>Adjust argument parsing with pvput (Jesus Vasquez).</li>
</ul>
</li>
</ul>
<h1>Release 7.1.3 (Feb. 2021) </h1>
<ul>
<li>Bug fixes<ul>
<li>Increase default TCP timeout to 40 seconds. Applies a 4/3 multiplier on $EPICS_PVA_CONN_TMO for compatibility.</li>
<li>CA Provider implementation restructured to simplify, reduce duplication and fix issues #163 and #165.</li>
</ul>
</li>
<li>Changes<ul>
<li>Enable building of pvtools to all except vxWorks, RTEMS and iOS.</li>
</ul>
</li>
</ul>
<h1>Release 7.1.2 (July 2020) </h1>
<ul>
<li>Changes<ul>
<li>Destroyable::destroy() is optional</li>
</ul>
</li>
<li>Bug fixes<ul>
<li>SharedPV::post() handle bad_weak_ptr</li>
</ul>
</li>
</ul>
<h1>Release 7.1.1 (May 2020) </h1>
<ul>
<li>Changes<ul>
<li>Add 'pval' iocsh command to list names from all providers of the running server.</li>
<li>Start protocol CID, SID, and IOID from different non-zero values.</li>
</ul>
</li>
<li>Bug fixes<ul>
<li>client: fix mixed up CID/SID in CMD_DESTROY_CHANNEL handler. Protocol decode error effecting all previous versions.</li>
<li>pvput fix JSON mode regression</li>
<li>Some error messages incorrectly showed "&lt;IPA&gt;" instead of an actual IP+port.</li>
<li>pvcall handle NULL return</li>
<li>pv* tools: '-V' shows dependency versions.</li>
<li>client unconditionally clear existingBitSet</li>
<li>no "invalid bit-set length" <a href="https://github.com/epics-base/pvAccessCPP/issues/158">https://github.com/epics-base/pvAccessCPP/issues/158</a></li>
</ul>
</li>
</ul>
<h1>Release 7.1.0 (Nov 2019) </h1>
<ul>
<li>Incompatible changes<ul>
<li>Requires Base &gt;= 3.15</li>
</ul>
</li>
<li>Changes<ul>
<li>Change semantics of StaticProvider::close() wrt. closing SharedPV</li>
<li>Invalid values in EPICS_PVAS_INTF_ADDR_LIST fails hard</li>
<li>Change to side-effects of <a class="el" href="structpvac_1_1_monitor.html#af9460f0e24709b54a89411c40706fbb2" title="Immediate cancellation. ">pvac::Monitor::cancel()</a></li>
</ul>
</li>
<li>Bug fixes</li>
</ul>
<h1>Release 7.0.0 (July 2019) </h1>
<ul>
<li>Incompatible changes<ul>
<li>Peers claiming protocol minor version 0 are ignored. The change from 0 -&gt; 1 included incompatible changes to CMD_BEACON and several others network messages, and inter-operation was never possible. Attempts resulted in printing error messages to console.</li>
<li>The Access Security interface classes in <a class="el" href="security_8h_source.html">pv/security.h</a> are completely redesigned. The SecurityPlugin interface is replaced with <a class="el" href="classepics_1_1pv_access_1_1_authentication_plugin.html" title="Actor through which authentication exchanges are initiated. ">epics::pvAccess::AuthenticationPlugin</a> and epics::pvAccess::AuthorizationRegistry as separate phases to connection setup. Each connection will select one <a class="el" href="classepics_1_1pv_access_1_1_authentication_plugin.html" title="Actor through which authentication exchanges are initiated. ">epics::pvAccess::AuthenticationPlugin</a> and zero or more <a class="el" href="classepics_1_1pv_access_1_1_authorization_plugin.html" title="I modify PeerInfo after authentication is complete. ">epics::pvAccess::AuthorizationPlugin</a> s. The result of this process is a <a class="el" href="structepics_1_1pv_access_1_1_peer_info.html" title="Information provded by a client to a server-type ChannelProvider. ">epics::pvAccess::PeerInfo</a> which may be accessed with with epics::pvAccess::ChannelFindRequester::getPeerInfo() and <a class="el" href="classepics_1_1pv_access_1_1_channel_requester.html#a5fb868019c00c730595d79fd9a2ca30a" title="Return information on connected peer if applicable. ">epics::pvAccess::ChannelRequester::getPeerInfo()</a> .</li>
</ul>
</li>
<li>Removals<ul>
<li>pv/namedLockPattern.h</li>
<li>createFileLogger() from <a class="el" href="logger_8h_source.html">pv/logger.h</a></li>
</ul>
</li>
<li>Fixes<ul>
<li>Implement idle timeout on TCP connections. Introduces minor protocol version 2. Connections between v2 peers send a CMD_ECHO message from client -&gt; server. Either side will close the TCP connection if no message has been received within the past 30 seconds (by default). This can be configured with $EPICS_PVA_CONN_TMO .</li>
</ul>
</li>
<li>Changes<ul>
<li>The output of the 'pvasr' iocsh command has been expanded.</li>
</ul>
</li>
</ul>
<h1>Release 6.1.2 (Apr 2019) </h1>
<ul>
<li>Changes<ul>
<li>When available, use environment variable defaults from Base</li>
<li>Relax state check in <a class="el" href="classepics_1_1pv_access_1_1_monitor_f_i_f_o.html#aafaf8b7584ac195e0e08bec2ec3db4f3" title="Consume a free slot if available, otherwise squash with most recent. ">epics::pvAccess::MonitorFIFO::post()</a> and tryPost() to allow post() while closed. Allows user code to avoid extra synchronization during shutdown (just call close() ). Synchronization between open() and post() on type change is still required.</li>
</ul>
</li>
</ul>
<h1>Release 6.1.1 (Mar 2019) </h1>
<ul>
<li>Fixes<ul>
<li>pvcall fix array args</li>
<li>pvinfo show server IP</li>
</ul>
</li>
</ul>
<h1>Release 6.1.0 (Nov 2018) </h1>
<ul>
<li>Deprecations<ul>
<li>pv/namedLockPattern.h</li>
<li>createFileLogger() from <a class="el" href="logger_8h_source.html">pv/logger.h</a></li>
</ul>
</li>
<li>Removals<ul>
<li>No longer install testServer, testGetPerformance, testMonitorPerformance, rpcServiceExample, rpcServiceAsyncExample, rpcWildServiceExample, rpcClientExample, and pipelineServiceExample. These will continue to be built, and may be found under testApp/O.* .</li>
<li>The <b>eget</b> CLI utility has moved to <a href="https://github.com/epics-base/eget">https://github.com/epics-base/eget</a> The new <b>pvcall</b> and existing pvget replace its role as a low level troubleshooting tool.</li>
<li>Remove deprecated methods configure(), <a class="elRef" doxygen="/home/mdavidsaver/work/epics/pv/pvAccess/documentation/libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01616.html#a8b74d0bc34dda8d29dd0950b4e5e661d">flush()</a>, and poll() from ChannelProvider.</li>
<li>Remove RPCClient::sendRequest()</li>
<li>Remove RPCService::destroy() and dispose()</li>
<li>Typedefs GUID, Service</li>
</ul>
</li>
<li>Fixes<ul>
<li>epics::pvAccess::pvAccessLog() add EPICS_PRINTF_STYLE()</li>
<li>ioc: shutdown PVA server via epicsAtExit()</li>
<li>fix 'pva' provider registration during static linking</li>
<li>Various fixes related to shared_ptr loop breaking.</li>
<li>Various crashes and deadlocks.</li>
<li>PVA client context: avoid lock order violations</li>
</ul>
</li>
<li>Changes<ul>
<li><a class="el" href="structpvac_1_1_monitor.html" title="Handle for monitor subscription. ">pvac::Monitor</a> - shallow copy into Monitor::root</li>
<li>pvget -m shows time and alarm if available (thanks to Andrew Starritt)</li>
<li>PVA Server now handles pipeline=true automatically for all ChannelProviders. It is only necessary to implement <a class="el" href="classepics_1_1pv_access_1_1_monitor.html#aa759d522c440b69615d6da4debb0f491" title="Report remote queue status. ">epics::pvAccess::Monitor::reportRemoteQueueStatus()</a> to receive notification of initial window size.</li>
<li>Most locking issues in the 'ca' provider should now be resolved.</li>
</ul>
</li>
<li>Additions<ul>
<li>Add pvmonitor execuable as an alias for 'pvget -m'.</li>
<li>Add new pvcall executable to make RPC calls with arguments encoded using the NTURI convention.</li>
<li>pvput to NTEnum via. string now supported</li>
<li>pvac::* add valid() method and boolean cast shorthand. Also <a class="elRef" doxygen="/home/mdavidsaver/work/epics/pv/pvAccess/documentation/libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01616.html#adf0f63bc536146a891be5ca69374d1c3">reset()</a> and operator&lt;&lt;(ostream, ...)</li>
<li>Add <a class="el" href="structpvac_1_1_get_event.html#a84186fffa5e6905bbd7600f0ad521e8d" title="Mask of fields in value which have been initialized by the server. ">pvac::GetEvent::valid</a> to determine fields actually transfered during a Get operation.</li>
<li>Add pvac::ClientProvider::name()</li>
<li>Add <a class="el" href="classepics_1_1pv_access_1_1_monitor_f_i_f_o.html" title="Utility implementation of Monitor. ">epics::pvAccess::MonitorFIFO</a> utility implementation of <a class="el" href="classepics_1_1pv_access_1_1_monitor.html" title="Access to Monitor subscription and queue. ">epics::pvAccess::Monitor</a></li>
<li>Add <a class="el" href="classpvas_1_1_static_provider.html" title="A Provider based on a list of SharedPV instance. ">pvas::StaticProvider</a>, <a class="el" href="classpvas_1_1_dynamic_provider.html" title="A Provider which has no pre-configured list of names. ">pvas::DynamicProvider</a>, and <a class="el" href="classpvas_1_1_shared_p_v.html" title="A Shared State Process Variable (PV) ">pvas::SharedPV</a>. See <a class="el" href="group__pvas.html">Server API</a></li>
<li>Support in the 'ca' provider for new pvRequest options:<ul>
<li>New <code>DBE</code> record option to select CA events to monitor, containing any combination of the keywords <code>VALUE</code>, <code>ARCHIVE</code>, <code>ALARM</code> and/or <code>PROPERTY</code>.</li>
<li>New <code>dbtype</code> field option to represent data types returned by CA as an unsigned or 64-bit integer.</li>
<li>New <code>pvtype=pvString</code> field option to represent an array of chars from CA as a string.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1>Release 6.0.0 (Dec 2017) </h1>
<ul>
<li>Incompatible changes<ul>
<li>Requires pvDataCPP &gt;=7.0.0 due to headers moved from pvDataCPP into this module: <a class="el" href="requester_8h_source.html">requester.h</a>, destoryable.h, and <a class="el" href="monitor_8h_source.html">monitor.h</a></li>
<li>Major changes to shared_ptr ownership rules for <a class="el" href="classepics_1_1pv_access_1_1_channel_provider.html" title="An instance of a Client or Server. ">epics::pvAccess::ChannelProvider</a> and associated classes. See<ul>
<li><a class="el" href="providers.html">ChannelProvider API</a></li>
<li><a class="el" href="providers_changes.html">Changes to ChannelProvider ownership rules</a></li>
</ul>
</li>
<li>Add new library pvAccessIOC for use with PVAClientRegister.dbd and PVAServerRegister.dbd. Necessary to avoid having pvAccess library depend on all IOC core libraries.</li>
<li>Added new library pvAccessCA with "ca" provider. Main pvAccess library no longer depends on libca. Applications needing the "ca" provider must link against pvAccessCA and pvAccess. See examples/Makefile in the source tree. The headers associated with this library are: caChannel.h, caProvider.h, and caStatus.h</li>
<li>A number of headers which were previously installed, but considered "private", are no longer installed.</li>
<li><a class="el" href="classepics_1_1pv_access_1_1_channel_provider_registry.html" title="Interface for locating channel providers. ">epics::pvAccess::ChannelProviderRegistry</a> may no longer be sub-classed.</li>
<li>Removed access to singleton registry via getChannelProviderRegistry() and registerChannelProviderFactory() in favor of <a class="el" href="classepics_1_1pv_access_1_1_channel_provider_registry.html#a17c9b397b8dbbe152f6206ea26cc9718" title="The global registry for &quot;clients&quot;. ">epics::pvAccess::ChannelProviderRegistry::clients()</a> and <a class="el" href="classepics_1_1pv_access_1_1_channel_provider_registry.html#a0d5202ac9737e8fd803304cc4f8dccc5" title="The global registry for &quot;servers&quot;. ">epics::pvAccess::ChannelProviderRegistry::servers()</a>. The "pva" and "ca" providers are registered with the clients() singleton. <a class="el" href="classepics_1_1pv_access_1_1_server_context.html" title="The class representing a PVA Server context. ">epics::pvAccess::ServerContext()</a> looks up names with the servers() singleton.</li>
<li>Removed deprecated epics::pvAccess::Properties</li>
<li>The data members of <a class="el" href="classepics_1_1pv_access_1_1_monitor_element.html" title="An element for a monitorQueue. ">epics::pvAccess::MonitorElement</a> become const, preventing these pointers from being re-targeted.</li>
</ul>
</li>
<li>Simplifications<ul>
<li>use of the <a class="el" href="classepics_1_1pv_access_1_1_channel_requester.html" title="Event notifications associated with Channel life-cycle. ">epics::pvAccess::ChannelRequester</a> interface is optional and may be omitted when calling createChannel(). Channel state change notifications are deliviered to individual operations via <a class="el" href="structepics_1_1pv_access_1_1_channel_base_requester.html#a6be48272a668100a47878f9446ee36b5" title="Notification when underlying Channel becomes DISCONNECTED or DESTORYED. ">epics::pvAccess::ChannelBaseRequester::channelDisconnect()</a></li>
<li>Default implementions added for the following methods<ul>
<li>epics::pvAccess::Lockable::lock() and epics::pvAccess::Lockable::unlock() which do nothing.</li>
<li>epics::pvAccess::Channel::getConnectionState() returns CONNECTED</li>
<li>epics::pvAccess::Channel::isConnected() uses getConnectionState()</li>
<li>epics::pvAccess::Channel::getField() which errors</li>
<li>epics::pvAccess::Channel::getAccessRights() which returns rw</li>
</ul>
</li>
<li>Added <a class="el" href="structepics_1_1pv_access_1_1_simple_channel_provider_factory.html" title="Simple ChannelProviderFactory which requires the existance of a ctor Provider(const std::tr1::shared_...">epics::pvAccess::SimpleChannelProviderFactory</a> template and <a class="el" href="classepics_1_1pv_access_1_1_channel_provider_registry.html#a8999e69c5e07725d0b46d85307bf91d2" title="Add new factory. ">epics::pvAccess::ChannelProviderRegistry::add()</a> avoids need for custom factory.</li>
<li>Added <a class="el" href="classepics_1_1pv_access_1_1_monitor_element_1_1_ref.html" title="A (single ownership) smart pointer to extract a MonitorElement from a Monitor queue. ">epics::pvAccess::MonitorElement::Ref</a> iterator/smart-pointer to ensure proper handling of calls Monitor::poll() and Monitor::release().</li>
<li><a class="el" href="namespaceepics_1_1pv_access.html#a452ffbc428e68015a4e7901a9da571b2" title="Pipeline (streaming) support API (optional). ">epics::pvAccess::PipelineMonitor</a> "internal" is collapsed into <a class="el" href="classepics_1_1pv_access_1_1_monitor.html" title="Access to Monitor subscription and queue. ">epics::pvAccess::Monitor</a>. PipelineMonitor becomes a typedef for Monitor.</li>
<li>epics::pvAccess::RPCService is now a sub-class of epics::pvAccess::RPCServiceAsync</li>
</ul>
</li>
<li>Additions<ul>
<li><a class="el" href="pv_access_8h_source.html">pv/pvAccess.h</a> now provides macros OVERRIDE and FINAL which conditionally expand to the c++11 keywords override and final.</li>
<li>Deliver disconnect notifications to individual Operations (get/put/rpc/monitor/...) via new <a class="el" href="structepics_1_1pv_access_1_1_channel_base_requester.html#a6be48272a668100a47878f9446ee36b5" title="Notification when underlying Channel becomes DISCONNECTED or DESTORYED. ">epics::pvAccess::ChannelBaseRequester::channelDisconnect()</a></li>
<li>New API for server creation via <a class="el" href="classepics_1_1pv_access_1_1_server_context.html#ace40605cff6808a58e41a0cbeb93b55a" title="Start a new PVA server. ">epics::pvAccess::ServerContext::create()</a> allows direct specification of configuration and ChannelProvider(s).</li>
<li>Add <a class="el" href="classepics_1_1pv_access_1_1_server_context.html#afb5401b3f6c7d902869be59732e99b13" title="Return a Configuration with the actual values being used, including defaults used, and bounds limits applied. ">epics::pvAccess::ServerContext::getCurrentConfig()</a> to get actual configuration, eg. for use with a client.</li>
<li>Classes from moved headers <a class="el" href="requester_8h_source.html">requester.h</a>, destoryable.h, and <a class="el" href="monitor_8h_source.html">monitor.h</a> added to <a class="el" href="namespaceepics_1_1pv_access.html" title="Holds all PVA related. ">epics::pvAccess</a> namespace. Typedefs provided in epics::pvData namespace.</li>
<li>Added Client API based on <a class="el" href="classpvac_1_1_client_provider.html" title="Central client context. ">pvac::ClientProvider</a></li>
<li><a class="el" href="pva_version_8h_source.html">pv/pvaVersion.h</a> defines VERSION_INT and PVACCESS_VERSION_INT</li>
<li><a class="el" href="classepics_1_1pv_access_1_1_r_p_c_client.html" title="RPCClient is an interface class that is used by a service client. ">epics::pvAccess::RPCClient</a> may be directly constructed.</li>
<li><a class="el" href="classepics_1_1pv_access_1_1_r_p_c_server.html" title="Serves (only) RPCServiceAsync and RPCService instances. ">epics::pvAccess::RPCServer</a> allows <a class="el" href="classepics_1_1pv_access_1_1_configuration.html" title="Configuration. ">epics::pvAccess::Configuration</a> to be specified and access to ServerContext.</li>
<li>Added epics::pvAccess::Configuration::keys() to iterate configuration parameters (excluding environment variables).</li>
<li>Added epics::pvAccess::Destoryable::cleaner</li>
</ul>
</li>
<li>Deprecations<ul>
<li>epics::pvAccess::GUID in favor of <a class="el" href="structepics_1_1pv_access_1_1_server_g_u_i_d.html" title="Globally unique ID. ">epics::pvAccess::ServerGUID</a> due to win32 name conflict.</li>
</ul>
</li>
</ul>
<h1>Release 5.0.0 (July 2016) </h1>
<ul>
<li>Remote channel destroy support</li>
<li>Multiple network inteface support</li>
<li>Local multicast (repetitor) reimplemented</li>
<li>Monitor reconnect when channel type changes fix</li>
<li>C++11 compilation fixes</li>
<li>Added version to pvaTools</li>
<li>Memory management improved</li>
<li>pipeline: ackAny argument percentage support</li>
<li>Monitor overrun memory issues fixed</li>
<li>CA provider destruction fixed</li>
<li>Replaced LGPL wildcard matcher with simplistic EPICS version</li>
</ul>
<h1>Release 4.1.2 (Oct 2015) </h1>
<ul>
<li>Improved Jenkins build support</li>
<li>Removed QtCreated IDE configuration files</li>
<li>Use of getSubField&lt;&gt; instead of e.g. getDoubleField()</li>
<li>CA support for pvget, pvput and pvinfo.</li>
<li>vxWorks/RTEMS compiler warnings resolved.</li>
<li>Transport shutdown improved.</li>
<li>CA DBR status fix.</li>
<li>Monitor queue handling improved.</li>
<li>Fixed bad performance on 10Gbit or faster networks.</li>
<li>Async RPC service.</li>
</ul>
<h1>Release 4.0.5 (Dec 2014) </h1>
<p>(Starting point for release notes.) </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 30 2021 07:12:32 for pvAccessCPP by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
